<div class="col-lg-12">
    <h1 class="page-header"><i class="fa fa-automobile"></i> <span>Device {{device.name}}</span></h1>
</div>
<!-- /.col-lg-12 -->
<div class="col-lg-12">
    <div ng-show="update_message" class="alert alert-success">
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">Ã—</button>
        {{update_message}}
    </div>
    <table class="table table-hover table-borderless">
        <tbody>
        <tr>
            <td>Debug Tools</td>
            <td><a ui-sref="app.devices.logs({projectId: device.projectId, deviceId: device._id})"><strong>Realtime Logs</strong></a></td>
        </tr>
        <tr>
            <td>Test Tools</td>
            <td> <a ui-sref="app.devices.mqtt({projectId: device.projectId, deviceId: device._id})"><strong>Sending MQTT messages</strong></a></td>
        </tr>
        </tr>
        <tr>
            <td>MQTT Subscriber Topic</td>
            <td><code>{{ project.domain + "/devices/" + device._id }}</code></td>
        </tr>
        <tr>
            <td>Name</td>
            <td><a href="#" editable-text="device.name" onaftersave="updateDevice()">{{device.name || 'empty'}}</a></td>
        </tr>
        <tr>
            <td>Description</td>
            <td><a href="#" editable-text="device.description" onaftersave="updateDevice()">{{device.description || 'empty'}}</a></td>
        </tr>
        <tr>
            <td>Address</td>
            <td><a href="#" editable-text="device.address" onaftersave="updateDevice()">{{device.address || 'empty'}}</a></td>
        </tr>
        <tr>
            <td>Latitude</td>
            <td><a href="#" editable-text="device.location.coordinates[1]" onaftersave="updateDevice()">{{device.location.coordinates[1] || 'empty'}}</a></td>
        </tr>
        <tr>
            <td>Longitude</td>
            <td><a href="#" editable-text="device.location.coordinates[0]" onaftersave="updateDevice()">{{device.location.coordinates[0] || 'empty'}}</a></td>
        </tr>
        <tr>
            <td>Status</td>
            <td><i class="fa fa-circle" ng-class="device.status?'text-success':'text-danger'"></i></td>
        </tr>
        </tbody>
    </table>
    <p><strong>Map</strong></p>
    <div id="map_canvas">

        <script id="searchbox.tpl.html" type="text/ng-template">
            <input type="text" class="form-control searchbox" placeholder="Search your location ...">
        </script>
        <ui-gmap-google-map center="map.center" zoom="map.zoom" draggable="true" options="options" events="map.events">
        <ui-gmap-search-box template="searchbox.template" events="searchbox.events"></ui-gmap-search-box>
        <ui-gmap-markers models="map.markers"
        coords="'self'"
        events="map.markersEvents"
        options="'options'">
        </ui-gmap-markers>
        </ui-gmap-google-map>
    </div>
    <br />
</div>
